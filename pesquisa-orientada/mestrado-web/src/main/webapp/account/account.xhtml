<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">
	
	<f:metadata>
		<f:viewParam id="accountId" name="accountId" value="#{accountMB.account.id}" />
		<f:viewParam id="accountLogin" name="accountLogin" value="#{accountMB.account.login}"  />
		<f:event listener="#{accountMB.init}" type="preRenderView"  />
	</f:metadata>
	
	<h:body>
		<ui:composition template="/layout/mainLayout.xhtml">
			<ui:define name="titlePage">Conta de Usuário</ui:define>
			
			<ui:define name="content">
				<section class="container">
				
					<ui:include src="/account/accountHeader.xhtml" >
						<ui:param name="account" value="#{accountMB.account}" />
					</ui:include>
					
					<div style="border-top: 1px solid #aaa;">
						<h3>Sumário da Conta</h3>
					</div>
					
					<h:panelGroup id="accountSummary" layout="block" styleClass="row" style="margin-bottom: 20px">
						<div class="col-lg-3 col-md-6">
	                        <div class="panel panel-yellow">
	                            <div class="panel-heading">
	                                <div class="row">
	                                    <div class="col-xs-3">
	                                        <i class="fa fa-eye fa-5x"></i>
	                                    </div>
	                                    <div class="col-xs-9 text-right">
	                                        <div class="huge">
		                                        <h:outputText value="#{accountMB.totalViewedProjects}" />
	                                        </div>
	                                        <div>Projetos Visualizados</div>
	                                    </div>
	                                </div>
	                            </div>
	                            <h:outputLink value="#{facesContext.externalContext.applicationContextPath}/account/accountViewedProjects.jsf">
									<f:param name="accountId" value="#{accountMB.account.id}" />
									<div class="panel-footer">
	                                    <span class="pull-left">Mais detalhes</span>
	                                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
	                                    <div class="clearfix"></div>
	                                </div>
								</h:outputLink>
	                        </div>
	                    </div>
	                    
	                    <div class="col-lg-3 col-md-6">
	                        <div class="panel panel-green">
	                            <div class="panel-heading">
	                                <div class="row">
	                                    <div class="col-xs-3">
	                                        <i class="fa fa-check fa-5x"></i>
	                                    </div>
	                                    <div class="col-xs-9 text-right">
	                                        <div class="huge">
		                                        <h:outputText value="#{accountMB.totalRatedProjects}" />
	                                        </div>
	                                        <div>Projetos Avaliados</div>
	                                    </div>
	                                </div>
	                            </div>
	                            
	                           <h:outputLink value="#{facesContext.externalContext.applicationContextPath}/account/accountRatedProjects.jsf">
									<f:param name="accountId" value="#{accountMB.account.id}" />
	                                <div class="panel-footer">
	                                    <span class="pull-left">Mais detalhes</span>
	                                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
	                                    <div class="clearfix"></div>
	                                </div>
	                           </h:outputLink>
	                        </div>
	                    </div>
	                    
	                    <div class="col-lg-3 col-md-6">
	                        <div class="panel panel-primary">
	                            <div class="panel-heading">
	                                <div class="row">
	                                    <div class="col-xs-3">
	                                        <i class="fa fa-comments fa-5x"></i>
	                                    </div>
	                                    <div class="col-xs-9 text-right">
	                                        <div class="huge">
	                                        	<h:outputText value="#{accountMB.totalCommentedProjects}" />
	                                        </div>
	                                        <div>Projetos Comentados</div>
	                                    </div>
	                                </div>
	                            </div>
	                            <h:outputLink value="#{facesContext.externalContext.applicationContextPath}/account/accountReviewedProjects.jsf">
									<f:param name="accountId" value="#{accountMB.account.id}" />
	                                <div class="panel-footer">
	                                    <span class="pull-left">Mais detalhes</span>
	                                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
	                                    <div class="clearfix"></div>
	                                </div>
	                            </h:outputLink>
	                        </div>
	                    </div>
	                    
						<div class="col-md-8">
							<h:panelGroup layout="block" rendered="#{not empty loginMB.loggedUser.interestTags}">
								<h4><i>Tags</i> de interesse</h4>
								<ui:include src="/detail/projectTagList.xhtml">
									<ui:param name="tagList" value="#{loginMB.loggedUser.interestTags}"/>
									<ui:param name="fullList" value="true" />
								</ui:include>
							</h:panelGroup>
						</div>
						<div class="col-md-4">
							<span style="margin-top: 10px; margin-bottom: 10px; ">
								Entrou em 
							</span>
							<br />
							<h4>
								<h:outputText id="createdAt" value="#{accountMB.account.createdAt}" style="font-weight: bold" >
									<f:convertDateTime for="createdAt" dateStyle="long" />
								</h:outputText>
							</h4>
						</div>
					</h:panelGroup>
					
					<div  style="border-top: 1px solid #aaa;">
					</div>
					
					<div class="row" style="margin-bottom: 20px">
						<div class="col-md-3">
						</div>
						
						<div class="col-md-3">
						</div>
						
						<div class="col-md-3">
						</div>
						
						<div class="col-md-3 acoes">
							<h4>
								<span class="glyphicon glyphicon-thumbs-up"></span>
								Uso
							</h4>
							
							<ul class="nav nav-pills nav-stacked">
								<li>
									<h:outputLink value="#{facesContext.externalContext.applicationContextPath}/reviews/reviewsList.jsf">
										<f:param name="userId" value="#{accountMB.account.id}" />
										Opiniões
									</h:outputLink>
								</li>
							</ul>
						</div>
					</div>
				
				</section>
			</ui:define>			
			
		</ui:composition>
	</h:body>
	
</html>