<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

	<h:body>
		<ui:composition template="/layout/mainLayout.xhtml">
		
			<ui:define name="titlePage">Novo Usuário</ui:define>
			
			<ui:define name="content">			
			
				<f:loadBundle var="accountMsg" basename="br.ufba.dcc.mestrado.computacao.account"   />
				
				<section class="container">
				
					<h:panelGroup id="newAccountAlert" layout="block" styleClass="alert alert-danger col-md-12" 
						rendered="#{not empty facesContext.messageList}">
						<strong>Vish! </strong>
						<h:messages />
					</h:panelGroup>
				
					<div class="row">
						<div class="col-md-6">
							<h4>Seja bem vindo!</h4>
							<p class="text-justify">
								Você pode utilizar o sistema sem efetuar login ou ter uma conta. Mas como o intuito desta comunidade é ser
								colaborativo, ajude-nos a prover um serviço de maior qualidade:
							</p>
							<div class="well">
								<ul class="text-justify">
									<li>
										Associe os projetos que você utiliza/utilizou à sua conta e encontre outros usuários para
										compartilhar experiências.
									</li>						
									<li>
										Avalie os projetos sob diferentes critérios de qualidade e compartilhe as suas impressões sobre
										eles.
									</li>
									<li>
										Receba sugestões de projetos interessantes ao seu perfil de usuário/desenvolvedor.
									</li>
								</ul>
							</div>
							<p>
								<a href="#{facesContext.externalContext.applicationContextPath}/login/login.jsf" class="btn btn-success">
									<span class="glyphicon glyphicon-user"></span> 
									Entre 
								</a>
								e conte-nos a sua história como usuário de software livre - é de graça!
							</p>
						</div>
						
						<div class="col-md-6">
							<div class="well">
								<h:form>
									<fieldset>
										<legend>Nova Conta</legend>
										<div class="form-group">
											<h:outputLabel for="login"><b>Login</b></h:outputLabel>
											<h:inputText styleClass="form-control" tabindex="1" id="login"
												value="#{accountMB.account.login}" required="true"
												requiredMessage="#{accountMsg['account.login.required.message']}"
												/>
											<span class="help-block">
												Seu login é o seu nome púbico a ser utilizado.
											</span>
										</div>
										<div class="form-group">
											<h:outputLabel for="email"><b>Email</b></h:outputLabel>
											<h:inputText styleClass="form-control" 
												id="email" tabindex="2"
												required="true" 
												requiredMessage="#{accountMsg['account.email.required.message']}"
												value="#{accountMB.account.email}">
												<f:validator validatorId="emailConfirmationFieldValidator"  />
												<f:attribute name="match" value="#{confirmEmail}" />
											</h:inputText>
											<span class="help-block">
												Você precisa fornecer um email válido para que a sua nova conta
												seja ativada.
											</span>
										</div>
										<div class="form-group">
											<label><b>Confirmar Email</b></label>
											<h:inputText styleClass="form-control" tabindex="3"
												value="#{accountMB.account.email}"  
												binding="#{confirmEmail}" />
											<span class="help-block">
												Confirme o seu endereço de email.
											</span>
										</div>
										<div class="form-group">
											<h:outputLabel for="password"><b>Senha</b></h:outputLabel>
											<h:inputSecret styleClass="form-control" tabindex="4" id="password"
												validatorMessage="#{messages['password.length.error.message']}"
												required="true"
												requiredMessage="#{accountMsg['account.password.required.message']}"
												value="#{accountMB.account.password}">
												<f:validateLength  minimum="6" for="password" />
												<f:validator validatorId="passwordConfirmationFieldValidator"  />
												<f:attribute name="match" value="#{confirmPassword}" />
											</h:inputSecret>
											<span class="help-block">
												Digite uma senha para a sua conta.
											</span>
										</div>
										<div class="form-group">
											<label><b>Confirmar Senha</b></label>
											<h:inputSecret styleClass="form-control" tabindex="5"
												value="#{accountMB.account.password}" 
												binding="#{confirmPassword}" />
											<span class="help-block">
												Confirme a sua senha
											</span>
										</div>
										<h:commandButton 
											styleClass="btn btn-primary" tabindex="6" value="Cadastrar"
											action="#{accountMB.createAccount}"  
											/>
									</fieldset>
								</h:form>
							</div>
						</div>
						
					</div>
				
				
				</section>
			</ui:define>
		
		</ui:composition>
	</h:body>
</html>