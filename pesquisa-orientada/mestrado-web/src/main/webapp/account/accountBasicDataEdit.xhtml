<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">
	
	<f:metadata>
		<f:viewParam id="accountId" name="accountId" value="#{accountBasicDataEditMB.account.id}" required="true" />
		<f:event listener="#{accountBasicDataEditMB.init}" type="preRenderView"  />
	</f:metadata>
	
	<h:body>
		<ui:composition template="/layout/mainLayout.xhtml">
			<ui:define name="titlePage">Configurações da Conta</ui:define>
			
			
			<ui:define name="content">
				<section class="container">
				
					<ui:include src="/account/accountHeader.xhtml" >
						<ui:param name="account" value="#{accountBasicDataEditMB.account}" />
					</ui:include>

					<div  style="border-top: 1px solid #aaa;">
						<h3>
							<h:outputLink value="#{facesContext.externalContext.applicationContextPath}/account/accountSettings.jsf">
								<f:param  name="accountId" value="#{accountBasicDataEditMB.account.id}" />
								Sumário da Conta:
							</h:outputLink>
							Dados Básicos
						</h3>
					</div>
					
					<h:panelGroup layout="block"
							style="margin-bottom: 10px" 
							styleClass="alert alert-danger col-md-12" 
							rendered="#{(accountBasicDataEditMB.loggedUserOnly) and (not accountBasicDataEditMB.loggedUser)}">
						<strong>
							<span class="fa fa-ban"></span>
							Vai com calma, aeh!
						</strong>
						Você não é o usuário desta conta para alterar informações sensíveis como estas...
					</h:panelGroup>
					
					<h:panelGroup layout="block" styleClass="col-md-8 col-md-offset-2" 
						rendered="#{accountBasicDataEditMB.loggedUser}">
						<div class="well">
							<h:form>
								<fieldset>
									<legend>Informações Pessoais</legend>
									<div class="form-group">
										<h:outputLabel for="login" value="Nome de Usuário"/>
										<h:inputText id="login" styleClass="form-control" readonly="true" 
											value="#{accountBasicDataEditMB.account.login}"/>
									</div>
									<div class="form-group">
										<h:outputLabel for="firstName" value="Primeiro Nome"/>
										<h:inputText id="firstName" styleClass="form-control" 
											value="#{accountBasicDataEditMB.account.firstName}"/>
									</div>
									<div class="form-group">
										<h:outputLabel for="middleName" value="Nome do Meio"/>
										<h:inputText id="middleName" styleClass="form-control" 
											value="#{accountBasicDataEditMB.account.middleName}"/>
									</div>
									<div class="form-group">
										<h:outputLabel for="lastName" value="Último Nome"/>
										<h:inputText id="lastName" styleClass="form-control" 
											value="#{accountBasicDataEditMB.account.lastName}"/>
									</div>
									<div class="form-group">
										<h:outputLabel for="email" value="Email"/>
										<h:inputText id="email" styleClass="form-control" 
											value="#{accountBasicDataEditMB.account.email}"/>
										<span class="help-block">
											Use seu e-mail para exibir o seu <h:outputLink value="http://www.gravatar.com">Gravatar</h:outputLink>
										</span>
									</div>
									<div class="form-group">
										<h:outputLabel for="facebookAccount" value="ID do Facebook"/>
										<div class="input-group">
											<h:inputText id="facebookAccount" styleClass="form-control" 
												value="#{accountBasicDataEditMB.account.facebookAccount}"/>
											<span class="input-group-addon fa fa-facebook"></span>
										</div>
										<span class="help-block">
											Campo opcional. Preencha com a url completa do seu perfil no Facebook
										</span>
									</div>
									<div class="form-group">
										<h:outputLabel for="twitterAccount" value="ID do Twitter"/>
										<div class="input-group">
											<h:inputText id="twitterAccount" styleClass="form-control" 
												value="#{accountBasicDataEditMB.account.twitterAccount}"/>
											<span class="input-group-addon fa fa-twitter">
											</span>
										</div>
										<span class="help-block">
											Campo opcional. Preencha com a url completa do seu perfil no Twitter
										</span>
									</div>
									<div class="form-group">
										<h:outputLabel for="googlePlusAccount" value="ID do Google+"/>
										<div class="input-group">
											<h:inputText id="googlePlusAccount" styleClass="form-control" 
												value="#{accountBasicDataEditMB.account.googlePlusAccount}"/>
											<span class="input-group-addon fa fa-google-plus"></span>
										</div>
										<span class="help-block">
											Campo opcional. Preencha com a url completa do seu perfil no Google+
										</span>
									</div>
									
									<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"  />
									<h:commandButton 
										styleClass="btn btn-primary" tabindex="6" value="Salvar"
										action="#{accountBasicDataEditMB.saveAccount}"  
										/>
								</fieldset>
							</h:form>
						</div>
					</h:panelGroup>
					
				</section>
			</ui:define>
			
		</ui:composition>
	</h:body>
	
	
</html>